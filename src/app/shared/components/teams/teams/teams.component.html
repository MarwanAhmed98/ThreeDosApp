<div class="animate-in fade-in duration-500">
  <div class="max-w-7xl mx-auto">
    <!-- Enhanced Header -->
    <div
      class="relative mb-8 p-8 bg-gradient-to-br from-brand-purple/10 via-brand-purple/5 to-transparent rounded-3xl border border-brand-purple/20 overflow-hidden">
      <!-- Background Pattern -->
      <div class="absolute inset-0 opacity-5">
        <div class="absolute top-0 right-0 w-64 h-64 bg-brand-purple rounded-full -mr-32 -mt-32"></div>
        <div class="absolute bottom-0 left-0 w-48 h-48 bg-brand-purple rounded-full -ml-24 -mb-24"></div>
      </div>

      <div class="relative flex flex-col lg:flex-row lg:items-center justify-between gap-6">
        <div>
          <div class="flex items-center gap-3 mb-2">
            <div
              class="w-12 h-12 bg-brand-purple rounded-2xl flex items-center justify-center shadow-lg shadow-brand-purple/20">
              <i class="fas fa-users text-white text-xl"></i>
            </div>
            <h1 class="text-3xl md:text-4xl font-bold tracking-tight text-main">
              Team Management
            </h1>
          </div>
          <p class="text-muted text-base md:text-lg max-w-2xl">
            Create and manage student teams, assign roles, track performance, and organize collaborative projects across
            different councils.
          </p>
          <div class="flex items-center gap-6 mt-4 text-sm text-muted">
            <span class="flex items-center gap-2">
              <i class="fas fa-chart-line text-brand-purple"></i>
              {{ TeamsList.length }} Active Teams
            </span>
            <span class="flex items-center gap-2">
              <i class="fas fa-building text-brand-purple"></i>
              {{ CouncilList.length }} Councils
            </span>
          </div>
        </div>

        <div class="flex flex-col sm:flex-row items-stretch sm:items-center gap-3">
          <button (click)="openTeamModal()"
            class="group bg-gradient-to-r from-brand-purple to-brand-purple/80 text-white px-8 py-3 rounded-2xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-brand-purple/25 hover:shadow-xl hover:shadow-brand-purple/30 active:scale-95 hover:-translate-y-0.5">
            <i class="fas fa-plus group-hover:rotate-90 transition-transform duration-300"></i>
            <span class="text-sm">Create New Team</span>
          </button>
        </div>
      </div>
    </div>

    <!-- Enhanced Search and Filters -->
    <div class="mb-8 p-6 bg-surface rounded-2xl border border-main shadow-sm">
      <div class="flex flex-col xl:flex-row items-stretch xl:items-center gap-4">
        <!-- Search -->
        <div class="relative flex-1">
          <div class="absolute inset-y-0 left-4 flex items-center text-muted">
            <i class="fas fa-search"></i>
          </div>
          <input [(ngModel)]="text" type="text" placeholder="Search by team name, number, or council..."
            class="w-full pl-12 pr-4 py-3.5 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all shadow-sm text-main placeholder-muted" />
          @if (text) {
          <button (click)="text = ''"
            class="absolute inset-y-0 right-4 flex items-center text-muted hover:text-main transition-colors">
            <i class="fas fa-times"></i>
          </button>
          }
        </div>

        <!-- Filter Pills -->
        <div class="flex items-center gap-2 flex-wrap">
          <span class="text-sm font-medium text-muted whitespace-nowrap">Filter by:</span>
          <button
            class="px-4 py-2 bg-brand-purple/10 text-brand-purple rounded-xl text-sm font-medium hover:bg-brand-purple/20 transition-colors border border-brand-purple/20">
            All Councils
          </button>
          <button
            class="px-4 py-2 bg-app text-muted rounded-xl text-sm font-medium hover:bg-brand-purple/10 hover:text-brand-purple transition-colors border border-main">
            Active Teams
          </button>
        </div>
      </div>
    </div>

    <!-- Enhanced Teams Grid -->
    @if (TeamsList.length === 0) {
    <!-- Empty State -->
    <div class="text-center py-16">
      <div
        class="w-32 h-32 mx-auto mb-6 bg-gradient-to-br from-brand-purple/10 to-brand-purple/5 rounded-full flex items-center justify-center border border-brand-purple/20">
        <i class="fas fa-users text-4xl text-brand-purple/60"></i>
      </div>
      <h3 class="text-2xl font-bold text-main mb-3">No Teams Created Yet</h3>
      <p class="text-muted max-w-md mx-auto mb-8">
        Start building your organization by creating your first team. Teams help organize students and manage
        collaborative projects.
      </p>
      <button (click)="openTeamModal()"
        class="bg-brand-purple text-white px-8 py-3 rounded-2xl font-bold hover:opacity-90 transition-all shadow-lg shadow-brand-purple/20">
        <i class="fas fa-plus mr-2"></i>
        Create Your First Team
      </button>
    </div>
    } @else {
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      @for (team of TeamsList | searchteams: text; track team.id) {
      <div
        class="group bg-surface rounded-3xl border border-main p-6 hover:shadow-2xl hover:shadow-brand-purple/10 hover:-translate-y-2 transition-all duration-300 relative overflow-hidden">
        <!-- Enhanced Background Accent -->
        <div
          class="absolute top-0 right-0 w-24 h-24 bg-gradient-to-br from-brand-purple/10 to-brand-purple/5 rounded-full -mr-12 -mt-12 group-hover:scale-150 transition-transform duration-500">
        </div>
        <div
          class="absolute bottom-0 left-0 w-16 h-16 bg-gradient-to-tr from-brand-purple/5 to-transparent rounded-full -ml-8 -mb-8 group-hover:scale-125 transition-transform duration-700">
        </div>

        <div class="relative">
          <!-- Team Header -->
          <div class="flex justify-between items-start mb-6">
            <div class="flex items-center gap-3">
              <div
                class="w-14 h-14 bg-gradient-to-br from-brand-purple to-brand-purple/80 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-brand-purple/25 group-hover:scale-110 transition-transform duration-300">
                <span class="font-bold text-lg">{{ team.team_number.charAt(0) }}</span>
              </div>
              <div>
                <h3 class="text-xl font-bold text-main group-hover:text-brand-purple transition-colors duration-300">
                  Team {{ team.team_number }}
                </h3>
                <div class="flex items-center gap-1.5 mt-1">
                  <i class="fas fa-building text-xs text-brand-purple"></i>
                  <span class="text-sm font-medium text-muted">{{ team.council_name }}</span>
                </div>
              </div>
            </div>

            <!-- Action Menu -->
            <div class="flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
              <button (click)="team.id && deleteTeam(team.id)"
                class="p-2 text-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all">
                <i class="fas fa-trash-alt"></i>
              </button>
            </div>
          </div>

          <!-- Team Stats -->
          <div class="grid grid-cols-2 gap-3 mb-6">
            <div class="bg-app rounded-xl p-3 border border-main">
              <div class="flex items-center gap-2">
                <i class="fas fa-users text-brand-purple text-sm"></i>
                <span class="text-xs font-bold text-muted uppercase tracking-wider">Members</span>
              </div>
              <div class="text-lg font-bold text-main mt-1">{{ team.team_members.length }}</div>
            </div>
            <div class="bg-app rounded-xl p-3 border border-main">
              <div class="flex items-center gap-2">
                <i class="fas fa-star text-amber-500 text-sm"></i>
                <span class="text-xs font-bold text-muted uppercase tracking-wider">Rating</span>
              </div>
              <div class="text-lg font-bold text-main mt-1">{{ team.average_rating || 'N/A' }}</div>
            </div>
          </div>

          <!-- Action Buttons -->
          <div class="flex flex-col gap-3">
            <button (click)="openViewMembersModal(team)"
              class="w-full py-3.5 bg-gradient-to-r from-brand-purple to-brand-purple/90 text-white rounded-xl font-bold text-sm hover:shadow-lg hover:shadow-brand-purple/25 transition-all flex items-center justify-center gap-2 group/btn">
              <i class="fas fa-eye group-hover/btn:scale-110 transition-transform"></i>
              View Members & Tasks
            </button>
            <button (click)="team.id && openMemberModal(team.id)"
              class="w-full py-3 bg-app text-brand-purple border border-brand-purple/20 rounded-xl font-bold text-sm hover:bg-brand-purple/5 hover:border-brand-purple/40 transition-all flex items-center justify-center gap-2">
              <i class="fas fa-user-plus text-xs"></i>
              Add Member
            </button>
          </div>
        </div>
      </div>
      }
    </div>
    }
  </div>
</div>

<!-- Enhanced Team Creation Modal -->
@if (isTeamModalOpen) {
<div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" (click)="closeTeamModal()"></div>
  <div
    class="relative w-full max-w-lg bg-surface border border-main rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300">
    <!-- Modal Header with Gradient -->
    <div class="relative p-8 bg-gradient-to-br from-brand-purple/5 to-transparent border-b border-main">
      <div class="absolute top-0 right-0 w-32 h-32 bg-brand-purple/5 rounded-full -mr-16 -mt-16"></div>
      <div class="relative flex justify-between items-center">
        <div class="flex items-center gap-3">
          <div
            class="w-12 h-12 bg-brand-purple rounded-2xl flex items-center justify-center shadow-lg shadow-brand-purple/20">
            <i class="fas fa-users text-white"></i>
          </div>
          <div>
            <h3 class="text-2xl font-bold text-main">Create New Team</h3>
            <p class="text-sm text-muted">Initialize a new team for your organization</p>
          </div>
        </div>
        <button (click)="closeTeamModal()"
          class="p-2 text-muted hover:text-main hover:bg-app rounded-xl transition-all">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Modal Body -->
    <div class="p-8">
      <form (ngSubmit)="onAddTeam()" class="space-y-6">
        <div>
          <label class="block text-sm font-bold text-main mb-3">
            <i class="fas fa-hashtag text-brand-purple mr-2"></i>
            Team Name/Identifier *
          </label>
          <input [(ngModel)]="teamData.team_number" name="team_number" type="text"
            placeholder="e.g. Conference Team, Development Team 1" required minlength="1" maxlength="50"
            class="w-full px-4 py-4 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all font-medium text-main placeholder-muted shadow-sm" />
          <p class="text-xs text-muted mt-2">Choose a unique identifier for your team</p>
        </div>

        <div>
          <label class="block text-sm font-bold text-main mb-3">
            <i class="fas fa-building text-brand-purple mr-2"></i>
            Assigned Council *
          </label>
          <select [(ngModel)]="teamData.council_id" name="council_id" required
            class="w-full px-4 py-4 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all font-medium text-main shadow-sm">
            <option value="" disabled>Select Council</option>
            @for (council of CouncilList; track council.id) {
            <option [value]="council.id">{{ council.name }}</option>
            }
          </select>
          <p class="text-xs text-muted mt-2">Teams are organized under specific councils</p>
        </div>

        <!-- Action Buttons -->
        <div class="pt-6 flex gap-3">
          <button type="button" (click)="closeTeamModal()"
            class="flex-1 px-6 py-4 rounded-2xl font-bold text-muted bg-app border border-main hover:bg-brand-purple/5 hover:border-brand-purple/20 transition-all">
            Cancel
          </button>
          <button type="submit"
            class="flex-[2] px-6 py-4 rounded-2xl font-bold text-white bg-gradient-to-r from-brand-purple to-brand-purple/80 hover:shadow-lg hover:shadow-brand-purple/25 transition-all active:scale-95">
            <i class="fas fa-plus mr-2"></i>
            Create Team
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
}

<!-- Enhanced View Members Modal -->
@if (isViewMembersModalOpen) {
<div class="fixed inset-0 z-[100] flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" (click)="closeViewMembersModal()"></div>
  <div
    class="relative w-full max-w-5xl bg-surface border border-main rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300">
    <div class="flex flex-col h-[85vh]">
      <!-- Enhanced Modal Header -->
      <div class="relative p-8 border-b border-main bg-gradient-to-br from-brand-purple/5 to-transparent">
        <div class="absolute top-0 right-0 w-48 h-48 bg-brand-purple/5 rounded-full -mr-24 -mt-24"></div>
        <div class="relative flex justify-between items-center">
          <div class="flex items-center gap-4">
            <div
              class="h-16 min-w-[4rem] px-4 bg-gradient-to-br from-brand-purple to-brand-purple/80 rounded-2xl flex items-center justify-center text-white shadow-lg shadow-brand-purple/25 whitespace-nowrap">
              <!-- Adjusted Text: Reduced size slightly to text-lg for better fit -->
              <span class="font-bold text-lg">#{{ selectedTeamNumber }}</span>
            </div>
            <div>
              <h3 class="text-3xl font-bold text-main">Team {{ selectedTeamNumber }}</h3>
              <p class="text-muted font-medium">Manage team members, roles, and assignments</p>
              <div class="flex items-center gap-4 mt-2 text-sm">
                <span class="flex items-center gap-1 text-brand-purple">
                  <i class="fas fa-users"></i>
                  {{ SelectedTeamMembers.length }} Members
                </span>
                <span class="flex items-center gap-1 text-muted">
                  <i class="fas fa-clock"></i>
                  Last updated today
                </span>
              </div>
            </div>
          </div>

          <div class="flex items-center gap-3">
            <button (click)="selectedTeamId && openMemberModal(selectedTeamId)"
              class="px-4 py-2 bg-brand-purple text-white rounded-xl font-semibold text-sm hover:opacity-90 transition-all flex items-center gap-2">
              <i class="fas fa-user-plus"></i>
              Add Member
            </button>
            <button (click)="closeViewMembersModal()"
              class="w-12 h-12 bg-surface border border-main rounded-xl flex items-center justify-center text-muted hover:text-main transition-all shadow-sm">
              <i class="fas fa-times"></i>
            </button>
          </div>
        </div>
      </div>

      <!-- Enhanced Members List -->
      <div class="flex-1 overflow-y-auto p-8">
        @if (SelectedTeamMembers.length === 0) {
        <!-- Enhanced Empty State -->
        <div class="flex flex-col items-center justify-center h-full text-center py-16">
          <div
            class="w-32 h-32 bg-gradient-to-br from-brand-purple/10 to-brand-purple/5 rounded-full flex items-center justify-center mb-6 border border-brand-purple/20">
            <i class="fas fa-user-friends text-5xl text-brand-purple/60"></i>
          </div>
          <h4 class="text-2xl font-bold text-main mb-3">No Team Members Yet</h4>
          <p class="text-muted max-w-md mx-auto mb-8 text-lg">
            This team is ready for members! Start building your team by adding students with different roles and
            responsibilities.
          </p>
          <button (click)="closeViewMembersModal(); selectedTeamId && openMemberModal(selectedTeamId)"
            class="px-8 py-4 bg-gradient-to-r from-brand-purple to-brand-purple/80 text-white rounded-2xl font-bold hover:shadow-lg hover:shadow-brand-purple/25 transition-all">
            <i class="fas fa-plus mr-2"></i>
            Add First Member
          </button>
        </div>
        } @else {
        <!-- Enhanced Members Grid -->
        <div class="grid gap-4">
          @for (member of SelectedTeamMembers; track member.id) {
          <div
            class="group p-6 rounded-2xl bg-app border border-main hover:border-brand-purple/30 hover:shadow-lg hover:shadow-brand-purple/5 transition-all duration-300">
            <div class="flex items-center gap-6">
              <!-- Enhanced Avatar -->
              <div class="relative">
                <div
                  class="w-16 h-16 bg-gradient-to-br from-brand-purple/20 to-brand-purple/10 rounded-2xl flex items-center justify-center text-brand-purple font-bold text-xl border border-brand-purple/20">
                  {{ member.name?.charAt(0) || "U" }}
                </div>
                <!-- Role Badge -->
                <div
                  class="absolute -top-2 -right-2 px-2 py-1 rounded-lg text-xs font-bold uppercase tracking-wider border {{ getRoleClass(member.role) }}">
                  {{ member.role }}
                </div>
              </div>

              <!-- Member Info -->
              <div class="flex-1">
                <div class="flex items-center gap-3 mb-2">
                  <h5 class="text-xl font-bold text-main">{{ member.name || 'Unknown Member' }}</h5>
                  @if (member.email) {
                  <span class="text-sm text-muted bg-surface px-3 py-1 rounded-full border border-main">{{ member.email
                    }}</span>
                  }
                </div>

                <!-- Task and Rating -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-4">
                  <div class="bg-surface p-4 rounded-xl border border-main">
                    <div class="flex items-center gap-2 mb-2">
                      <i class="fas fa-tasks text-brand-purple"></i>
                      <span class="text-sm font-bold text-muted uppercase tracking-wider">Assigned Task</span>
                    </div>
                    <p class="text-main font-medium">{{ member.task || "No task assigned yet" }}</p>
                  </div>

                  <div class="bg-surface p-4 rounded-xl border border-main">
                    <div class="flex items-center gap-2 mb-2">
                      <i class="fas fa-star text-amber-500"></i>
                      <span class="text-sm font-bold text-muted uppercase tracking-wider">Performance Rating</span>
                    </div>
                    <div class="flex items-center gap-2">
                      <span class="text-2xl font-bold text-brand-purple">{{ member.rate || 0 }}</span>
                      <span class="text-muted">/10</span>
                      <div class="flex gap-1 ml-2">
                        @for (star of [1,2,3,4,5]; track star) {
                        <i class="fas fa-star text-xs"
                          [class]="(member.rate || 0) >= star * 2 ? 'text-amber-400' : 'text-gray-300'"></i>
                        }
                      </div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Actions -->
              <div class="flex flex-col gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                <!-- <button
                  class="p-3 text-muted hover:text-brand-purple hover:bg-brand-purple/10 rounded-xl transition-all"
                  title="Edit Member">
                  <i class="fas fa-edit"></i>
                </button> -->
                <button (click)="member.id && deleteMember(member.id)"
                  class="p-3 text-muted hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-all"
                  title="Remove Member">
                  <i class="fas fa-user-minus"></i>
                </button>
              </div>
            </div>
          </div>
          }
        </div>
        }
      </div>
    </div>
  </div>
</div>
}

<!-- Enhanced Add Member Modal -->
@if (isMemberModalOpen) {
<div class="fixed inset-0 z-[110] flex items-center justify-center p-4">
  <div class="fixed inset-0 bg-black/60 backdrop-blur-sm" (click)="closeMemberModal()"></div>
  <div
    class="relative w-full max-w-2xl bg-surface border border-main rounded-3xl shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300">
    <!-- Enhanced Modal Header -->
    <div class="relative p-8 bg-gradient-to-br from-brand-purple/5 to-transparent border-b border-main">
      <div class="absolute top-0 right-0 w-32 h-32 bg-brand-purple/5 rounded-full -mr-16 -mt-16"></div>
      <div class="relative flex justify-between items-center">
        <div class="flex items-center gap-3">
          <div
            class="w-12 h-12 bg-brand-purple rounded-2xl flex items-center justify-center shadow-lg shadow-brand-purple/20">
            <i class="fas fa-user-plus text-white"></i>
          </div>
          <div>
            <h3 class="text-2xl font-bold text-main">Add Team Member</h3>
            <p class="text-sm text-muted">Assign a new member to Team {{ selectedTeamNumber }}</p>
          </div>
        </div>
        <button (click)="closeMemberModal()"
          class="p-2 text-muted hover:text-main hover:bg-app rounded-xl transition-all">
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <!-- Enhanced Modal Body -->
    <div class="p-8">
      <form (ngSubmit)="onAddMember()" class="space-y-6">
        <!-- Student Selection (Corrected ng-select) -->
        <div>
          <label class="block text-sm font-bold text-main mb-3">
            <i class="fas fa-user text-brand-purple mr-2"></i>
            Select Student(s) *
          </label>

          <ng-select [items]="UserList" [multiple]="true" [closeOnSelect]="false" bindLabel="name" bindValue="id"
            placeholder="Choose students to add to the team" [(ngModel)]="memberData.user_ids" name="user_ids"
            class="custom-ng-select" appendTo="body" required>

            <ng-template ng-option-tmp let-item="item" let-item$="item$" let-index="index">
              <div class="flex items-center gap-3 py-1">
                <div
                  class="w-8 h-8 rounded-full bg-brand-purple/10 flex items-center justify-center text-brand-purple text-xs font-bold border border-brand-purple/20">
                  {{ item.name.charAt(0) }}
                </div>
                <div class="flex flex-col">
                  <span class="font-bold text-sm">{{item.name}}</span>
                  <span class="text-xs text-muted">{{item.email}}</span>
                </div>
              </div>
            </ng-template>

            <ng-template ng-label-tmp let-item="item" let-clear="clear">
              <span class="ng-value-label">{{item.name}}</span>
              <span class="ng-value-icon right" (click)="clear(item)" aria-hidden="true">Ã—</span>
            </ng-template>

          </ng-select>

          <p class="text-xs text-muted mt-2">Select one or more students from your organization</p>
        </div>

        <!-- Role and Rating Grid -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-bold text-main mb-3">
              <i class="fas fa-crown text-brand-purple mr-2"></i>
              Team Role *
            </label>
            <select [(ngModel)]="memberData.role" name="role" required
              class="w-full px-4 py-4 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all font-medium text-main shadow-sm">
              <option value="member">Team Member</option>
              <option value="co-leader">Co-Leader</option>
              <option value="leader">Team Leader</option>
            </select>
            <p class="text-xs text-muted mt-2">Define their responsibility level</p>
          </div>

          <div>
            <label class="block text-sm font-bold text-main mb-3">
              <i class="fas fa-star text-amber-500 mr-2"></i>
              Initial Rating
            </label>
            <div class="relative">
              <input [(ngModel)]="memberData.rate" name="rate" type="number" min="0" max="10" step="0.1"
                placeholder="0-10"
                class="w-full px-4 py-4 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all font-medium text-main shadow-sm" />
              <div class="absolute inset-y-0 right-4 flex items-center text-muted">
                <span class="text-sm">/10</span>
              </div>
            </div>
            <p class="text-xs text-muted mt-2">Performance rating (0-10 scale)</p>
          </div>
        </div>

        <!-- Task Assignment -->
        <div>
          <label class="block text-sm font-bold text-main mb-3">
            <i class="fas fa-tasks text-brand-purple mr-2"></i>
            Assigned Task
          </label>
          <textarea [(ngModel)]="memberData.task" name="task" rows="4"
            placeholder="Describe the specific responsibilities and tasks for this team member..."
            class="w-full px-4 py-4 bg-app border border-main rounded-2xl focus:outline-none focus:ring-4 focus:ring-brand-purple/10 focus:border-brand-purple transition-all font-medium text-main placeholder-muted shadow-sm resize-none"></textarea>
          <p class="text-xs text-muted mt-2">Define their specific responsibilities and objectives</p>
        </div>

        <!-- Action Buttons -->
        <div class="pt-6 flex gap-4">
          <button type="button" (click)="closeMemberModal()"
            class="flex-1 px-6 py-4 rounded-2xl font-bold text-muted bg-app border border-main hover:bg-brand-purple/5 hover:border-brand-purple/20 transition-all">
            Cancel
          </button>
          <button type="submit"
            class="flex-[2] px-6 py-4 rounded-2xl font-bold text-white bg-gradient-to-r from-brand-purple to-brand-purple/80 hover:shadow-lg hover:shadow-brand-purple/25 transition-all active:scale-95">
            <i class="fas fa-user-plus mr-2"></i>
            Add to Team
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
}